var gcm=function(e){function t(o){if(n[o])return n[o].exports;var a=n[o]={i:o,l:!1,exports:{}};return e[o].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,n){"use strict";function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.GCMAdapter=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(1),s=t.GCMAdapter=function(){function e(){a(this,e),this.commonuiWindow_=window,this.gameWindow_=null,this.gcmHostName_=null,this.commonui_=null,this.gcmAdapterReady_=!1,addEventListener("message",this.gcmPostMessageListener.bind(this),!1)}return r(e,[{key:"gcmPostMessageListener",value:function(e){if(this.gcmAdapterReady_||e.origin!=GCMConfig.launcherHostName){if(this.gcmAdapterReady_&&e.origin==this.gcmHostName_){var t=JSON.parse(e.data),n=t.action;if(i.Validate.isValidCommonUIMethod(n)){var a=null;if(t.params&&(a=Object.keys(t.params).map(function(e){return t.params[e]})),console.log("CUI: Received post message from GCM: action: "+n+", params: "+a),this.commonui_[n]){var r;(r=this.commonui_)[n].apply(r,o(a))}else console.log("GCMAdapter: Failed to call method "+n+". Its not implemented by commonUI")}else console.log("GCMAdapter: No permission to execute method "+n)}}else{var t=JSON.parse(e.data);if("init"===t.action){var s=t.gcmHostName,u=t.cuiParams,l=u.device;this.gcmHostName_=s,this.gameWindow_="desktop"==l?window.parent.frames.gameFrame:window.parent.parent,this.gcmAdapterReady_=!0,commonUI.initGCMV4(this,u)}}}},{key:"sendPostMessageToGCM",value:function(e,t){var n=this.createGCMPostMessage(e,t);console.log("CUI: Sent post message to GCM: "+n),this.gameWindow_.postMessage(n,this.gcmHostName_)}},{key:"createGCMPostMessage",value:function(e,t){var n={action:e,params:t};return JSON.stringify(n)}},{key:"registerService",value:function(e,t){this.sendPostMessageToGCM("registerService",arguments)}},{key:"balancesUpdate",value:function(e,t,n){this.sendPostMessageToGCM("balancesUpdate",arguments)}},{key:"commonUIReady",value:function(e){this.commonui_=e,this.sendPostMessageToGCM("commonUIReady",null)}},{key:"gameRevealed",value:function(){this.sendPostMessageToGCM("gameRevealed",arguments)}},{key:"isGameIdle",value:function(){this.sendPostMessageToGCM("isGameIdle",arguments)}},{key:"getGameList",value:function(e,t){}},{key:"resume",value:function(e){this.sendPostMessageToGCM("resume",arguments)}},{key:"reload",value:function(){this.sendPostMessageToGCM("reload",null)}},{key:"redirect",value:function(e){this.sendPostMessageToGCM("redirect",arguments)}},{key:"optionHasChanged",value:function(e,t,n){this.sendPostMessageToGCM("optionHasChanged",arguments)}},{key:"getClientType",value:function(){return"html5"}},{key:"gsPlayerAction",value:function(e){this.sendPostMessageToGCM("gsPlayerAction",arguments)}},{key:"commonUIResize",value:function(e,t,n,o,a){this.sendPostMessageToGCM("commonUIResize",arguments)}},{key:"syndicateJackpotWinAwardDialogClosed",value:function(){this.sendPostMessageToGCM("syndicateJackpotWinAwardDialogClosed",null)}}]),e}(),u=new s;t.default=u},function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=["getOGSParams","loadCommonUI","commonUIReady","commonUIResize","gameRevealed","reload","redirect","showCommonUI","hideCommonUI","launcherLoaded"],s=["configure","launcherResized","registerService","commonUIReady","commonUIResize","gameRevealed","optionHasChanged","resume","reload","redirect","showCommonUI","hideCommonUI","isGameIdle","balancesUpdate","setOGSParams","gsPlayerAction","syndicateJackpotWinAwardDialogClosed"],u=["stakeUpdate","paidUpdate","balancesUpdate","loadProgressUpdate","gameReady","configReady","gameAnimationStart","gameAnimationComplete","gameIdle","handleError","handleSessionDurationUpdate","regOption","optionHasChanged","handleSessionStats","gameResized","gameHasLoadingScreen","handleMessageTrigger","handleGSTrigger","handleFreeRoundsAward","handleFreeRoundsInProgress","handleFreeRoundsUpdate","pollJackpots","showSyndicateJackpotWinAward","showSyndicateJackpotProgressBar","disposeSyndicateJackpotProgressBar"];t.Validate=function(){function e(){o(this,e)}return r(e,null,[{key:"isBalances",value:function(e,t){if(!e)return!1;if("object"!==a(e.CASH))return!1;for(var n in e)if("number"!=typeof e[n].amount)return!1;if(t&&"FREESPIN"==t){if("object"!==a(e.FREESPIN))return!1}else if("object"==a(e.FREESPIN))return!1;return!0}},{key:"isErrorInfo",value:function(e){return!!e&&!(void 0===e.errorCode||void 0===e.errorMessage)}},{key:"isValidCurrencyOps",value:function(e){if(!e)return!1;var t=/^[\D]$/,n=/^[\D]*$/;return t.test(e.ccy_thousand_separator)&&t.test(e.ccy_decimal_separator)&&n.test(e.ccy_code)}},{key:"isNumericValue",value:function(e){return"number"==typeof e&&!isNaN(parseFloat(e))&&isFinite(e)}},{key:"isIntegerValue",value:function(e){return"number"==typeof e&&!isNaN(parseInt(e,10))&&parseInt(e,10)==e&&isFinite(e)}},{key:"isPercentValue",value:function(e){return!!this.isNumericValue(e)&&(parseFloat(e)<=100&&!(parseFloat(e)<0))}},{key:"isHeight",value:function(e){return/^\d+(\.\d+)?(%|in|cm|mm|em|ex|pt|pc|px)/.test(e)}},{key:"isAlphaNumeric",value:function(e){return"string"==typeof e&&/^[a-zA-Z0-9]+$/.test(e)}},{key:"isValidGameName",value:function(e){return"string"==typeof e&&/^[a-zA-Z0-9\-_]+$/.test(e)}},{key:"isValidLanguage",value:function(e){if("string"!=typeof e)return!1;var t=e.split("-"),n=/^[a-z]{2}$/;if(1===t.length)return n.test(t[0]);if(2===t.length){var o=/^[A-Z]{2}$/;return n.test(t[0])&&o.test(t[1])}return!1}},{key:"isSingleLetter",value:function(e){return/^[a-zA-Z]$/.test(e)}},{key:"isSingleDigit",value:function(e){return/^[0-9]$/.test(e)}},{key:"isEnumOption",value:function(e,t){var n=!1;for(var o in e)if(t===e[o]){n=!0;break}return n}},{key:"isFunction",value:function(e){return"function"==typeof e}},{key:"isDefinedAndNotNull",value:function(e){return void 0!==e&&null!==e&&""!=e}},{key:"isElement",value:function(e){return Boolean(e&&"function"==typeof e.appendChild)}},{key:"isValidCommonUIMethod",value:function(e){return-1!=u.indexOf(e)}},{key:"isValidGCMMethod",value:function(e){return-1!=s.indexOf(e)}},{key:"isValidGCMLauncherMethod",value:function(e){return-1!=i.indexOf(e)}},{key:"isValidBoolean",value:function(e){return"boolean"==typeof e}}]),e}()}]);
